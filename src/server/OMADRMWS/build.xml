<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project [<!ENTITY buildfile SYSTEM "file:./build-user.xml">]>
<!-- WARNING: Eclipse autogenerated file. 
              Any modifications will be overwritten.
              Please edit build-user.xml instead.
-->
<project name="OMADRMWS" default="build" basedir=".">
    &buildfile;
    <property name="OMADRMWS.location" value="."/>
    <property name="openipmp.location" value="../osms"/>
    <path id="project.classpath">
        <pathelement location="build/classes"/>
        <pathelement location="${env.JBOSS_HOME}/jbossall-client.jar"/>
        <pathelement location="${env.JBOSS_HOME}/javax.servlet.jar"/>
        <pathelement location="${env.JBOSS_HOME}/javax.servlet.jsp.jar"/>
        <pathelement location="${OMADRMWS.location}/WebContent/WEB-INF/lib/jaxrpc.jar"/>
        <pathelement location="${OMADRMWS.location}/WebContent/WEB-INF/lib/commons-discovery-0.2.jar"/>
        <pathelement location="${OMADRMWS.location}/WebContent/WEB-INF/lib/wsdl4j-1.5.1.jar"/>
        <pathelement location="${OMADRMWS.location}/WebContent/WEB-INF/lib/commons-logging-1.0.4.jar"/>
        <pathelement location="${OMADRMWS.location}/WebContent/WEB-INF/lib/axis.jar"/>
        <pathelement location="${OMADRMWS.location}/WebContent/WEB-INF/lib/saaj.jar"/>
        <pathelement location="${openipmp.location}/lib/ejbca/jce-jdk13-112.jar"/>
        <pathelement location="${openipmp.location}/lib/mysql/mysql-connector-java-3.1.10-bin.jar"/>
        <pathelement location="${openipmp.location}/lib/squashxml/ext/xerces.jar"/>
        <pathelement location="${openipmp.location}/lib/junit/junit.jar"/>
    </path>
    <target name="clean">
        <delete dir="build/classes"/>
        <delete dir="dist"/>
        <delete file="OMADRMWS.war"/>
    </target>
    <target name="init" depends="clean">
        <mkdir dir="build/classes"/>
        <mkdir dir="dist"/>
    </target>
    <target name="build" depends="init">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac destdir="build/classes">
            <src path="src"/>
            <classpath refid="project.classpath"/>
        </javac>
        <copy todir="dist">
          <fileset dir="WebContent"/>
        </copy>
        <copy todir="dist/WEB-INF">
          <fileset dir="build"/>
        </copy>
        <jar manifest="dist/META-INF/MANIFEST.MF" jarfile="OMADRMWS.war" basedir="dist"/>
    </target>
</project>
