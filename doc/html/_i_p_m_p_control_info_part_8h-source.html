<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>&quot;DRM Plugin Architecture&quot;: IPMPControlInfoPart.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>IPMPControlInfoPart.h</h1><a href="_i_p_m_p_control_info_part_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00015 <span class="preprocessor">#if !defined (IPMPCONTROLINFOPART_H)</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#define IPMPCONTROLINFOPART_H</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#include "<a class="code" href="_basic_types_8h.html">BasicTypes.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="_sig_cert_container_8h.html">SigCertContainer.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="_c_r_c32_calculator_8h.html">CRC32Calculator.h</a>"</span>
00021 
00022 <span class="preprocessor">#include "<a class="code" href="_i_i_p_m_p_control_info_part_8h.html">IIPMPControlInfoPart.h</a>"</span>
00023 
00025 <span class="keyword">namespace </span>DRMPlugin {
00026 
00028 <span class="keyword">namespace </span>MPEG2IPMPXDRMPlugin {
00029 
<a name="l00038"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html">00038</a> <span class="keyword">class </span><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html">LastTStreamIPMPControlInfoPart</a>: <span class="keyword">public</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_last_t_stream_i_p_m_p_control_info_part.html">ILastTStreamIPMPControlInfoPart</a> {
00039 <span class="keyword">public</span>:
<a name="l00042"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a0">00042</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a0">LastTStreamIPMPControlInfoPart</a>(): cVersion(0), nextIndicator(false),
00043     part(0), infos(), crcCode(0), table(0), syntaxIndicator(false),
00044     cLen(0), sigCert(0) {
00045   }
00046 
<a name="l00059"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a1">00059</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a0">LastTStreamIPMPControlInfoPart</a>(<span class="keyword">const</span> Bit5T&amp; version, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator,
00060     <span class="keyword">const</span> ByteT&amp; number, <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes, <span class="keyword">const</span> UInt32T&amp; crc,
00061     <span class="keyword">const</span> ByteT&amp; tableID, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; sIndicator, <span class="keyword">const</span> UInt16T&amp; len,
00062     <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>* sig): cVersion(version), nextIndicator(indicator),
00063     part(number), infos(classes), crcCode(crc), table(tableID),
00064     syntaxIndicator(sIndicator), cLen(len), sigCert(sig) {
00065   }
00066 
00067 
00068   <span class="keyword">virtual</span> ~<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html">LastTStreamIPMPControlInfoPart</a>() {
00069     <span class="keywordflow">if</span> (sigCert != 0) <span class="keyword">delete</span> sigCert; sigCert = 0;
00070   }
00071 
<a name="l00076"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a3">00076</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> Bit5T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a3">GetIPMPControlInfoVersion</a>()<span class="keyword"> const </span>{
00077     <span class="keywordflow">return</span> cVersion;
00078   }
00079 
<a name="l00089"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a4">00089</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a4">SetIPMPControlInfoVersion</a>(<span class="keyword">const</span> Bit5T&amp; version) {
00090     cVersion = version;
00091     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00092   }
00093 
<a name="l00102"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a5">00102</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a5">GetCurrentNextIndicator</a>()<span class="keyword"> const </span>{
00103     <span class="keywordflow">return</span> nextIndicator;
00104   }
00105 
<a name="l00115"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a6">00115</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a6">SetCurrentNextIndicator</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator) {
00116     nextIndicator = indicator;
00117     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00118   }
00119 
<a name="l00127"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a7">00127</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a7">GetPartNumber</a>()<span class="keyword"> const </span>{
00128     <span class="keywordflow">return</span> part;
00129   }
00130 
<a name="l00139"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a8">00139</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a8">SetPartNumber</a>(<span class="keyword">const</span> ByteT&amp; number) {
00140     part = number;
00141     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00142   }
00143 
<a name="l00148"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a9">00148</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a9">GetIPMPControlInfos</a>()<span class="keyword"> const </span>{
00149     <span class="keywordflow">return</span> infos;
00150   }
00151 
<a name="l00161"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a10">00161</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a10">SetIPMPControlInfos</a>(<span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes) {
00162     infos = classes;
00163     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00164   }
00165 
<a name="l00170"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a11">00170</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> UInt32T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a11">GetCRC32Code</a>() {
00171     <span class="keywordflow">return</span> crcCode;
00172   }
00173 
<a name="l00182"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a12">00182</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a12">SetCRC32Code</a>(<span class="keyword">const</span> UInt32T&amp; crc) {
00183     crcCode = crc;
00184     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00185   }
00186 
<a name="l00191"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a13">00191</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a13">GetTableID</a>()<span class="keyword"> const </span>{
00192     <span class="keywordflow">return</span> table;
00193   }
00194 
<a name="l00204"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a14">00204</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a14">SetTableID</a>(<span class="keyword">const</span> ByteT&amp; tableID) {
00205     table = tableID;
00206     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00207   }
00208 
<a name="l00213"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a15">00213</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a15">GetSectionSyntaxIndicator</a>()<span class="keyword"> const </span>{
00214     <span class="keywordflow">return</span> syntaxIndicator;
00215   }
00216 
<a name="l00226"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a16">00226</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a16">SetSectionSyntaxIndicator</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator) {
00227     syntaxIndicator = indicator;
00228     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00229   }
00230 
<a name="l00238"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a17">00238</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> UInt16T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a17">GetTotalControlInfoClassesLen</a>()<span class="keyword"> const </span>{
00239     <span class="keywordflow">return</span> cLen;
00240   }
00241 
<a name="l00252"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a18">00252</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a18">SetTotalControlInfoClassesLen</a>(<span class="keyword">const</span> UInt16T&amp; length) {
00253     cLen = length;
00254     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00255   }
00256 
<a name="l00267"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a19">00267</a>   <span class="keyword">virtual</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>* <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a19">GetSigCertContainer</a>()<span class="keyword"> const </span>{
00268     <span class="keywordflow">return</span> sigCert;
00269   }
00270 
<a name="l00282"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a20">00282</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a20">CreateSigCertContainer</a>(<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>** container) {
00283     <span class="keywordflow">if</span> (sigCert != 0) <span class="keyword">delete</span> sigCert;
00284     sigCert = <span class="keyword">new</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_sig_cert_container.html">SigCertContainer</a>();
00285     *container = sigCert;
00286     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00287   }
00288 
<a name="l00295"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a21">00295</a>   <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_t_stream_i_p_m_p_control_info_part.html#a21">Encode</a>(<a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; encoded)<span class="keyword"> const </span>{
00296     <span class="keywordflow">if</span> (<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_last_t_stream_i_p_m_p_control_info_part.html#a3">ILastTStreamIPMPControlInfoPart::MPEG2Encode</a>(encoded) == <span class="keyword">false</span>) {
00297       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00298     }
00299     <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html">CRC32Calculator</a> crc;
00300     UInt32T crc32 = crc.<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html#a2">GetCRC</a>(encoded.GetFirst(), encoded.GetLength());
00301     encoded += <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>(crc32);
00302     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00303   }
00304 
00305 <span class="keyword">private</span>:
00306   Bit5T cVersion;
00307   <span class="keywordtype">bool</span> nextIndicator;
00308   ByteT part;
00309   <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a> infos;
00310   UInt32T crcCode;
00311   ByteT table;
00312   <span class="keywordtype">bool</span> syntaxIndicator;
00313   UInt16T cLen;
00314   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>* sigCert;
00315 };
00316 
<a name="l00322"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html">00322</a> <span class="keyword">class </span><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html">InterTStreamIPMPControlInfoPart</a>: <span class="keyword">public</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_inter_t_stream_i_p_m_p_control_info_part.html">IInterTStreamIPMPControlInfoPart</a> {
00323 <span class="keyword">public</span>:
<a name="l00326"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a0">00326</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a0">InterTStreamIPMPControlInfoPart</a>(): cVersion(0), nextIndicator(false),
00327     part(0), infos(), crcCode(0), table(0), syntaxIndicator(false),
00328     cLen(0), last(0) {
00329   }
00330 
<a name="l00343"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a1">00343</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a0">InterTStreamIPMPControlInfoPart</a>(<span class="keyword">const</span> Bit5T&amp; version, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator,
00344     <span class="keyword">const</span> ByteT&amp; number, <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes, <span class="keyword">const</span> UInt32T&amp; crc,
00345     <span class="keyword">const</span> ByteT&amp; tableID, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; sIndicator, <span class="keyword">const</span> UInt16T&amp; len,
00346     <span class="keyword">const</span> ByteT&amp; lst): cVersion(version), nextIndicator(indicator), part(number),
00347     infos(classes), crcCode(crc), table(tableID), syntaxIndicator(sIndicator),
00348     cLen(len), last(lst) {
00349   }
00350 
00351   <span class="keyword">virtual</span> ~<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html">InterTStreamIPMPControlInfoPart</a>() {
00352   }
00353 
<a name="l00358"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a3">00358</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> Bit5T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a3">GetIPMPControlInfoVersion</a>()<span class="keyword"> const </span>{
00359     <span class="keywordflow">return</span> cVersion;
00360   }
00361 
<a name="l00371"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a4">00371</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a4">SetIPMPControlInfoVersion</a>(<span class="keyword">const</span> Bit5T&amp; version) {
00372     cVersion = version;
00373     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00374   }
00375 
<a name="l00384"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a5">00384</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a5">GetCurrentNextIndicator</a>()<span class="keyword"> const </span>{
00385     <span class="keywordflow">return</span> nextIndicator;
00386   }
00387 
<a name="l00397"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a6">00397</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a6">SetCurrentNextIndicator</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator) {
00398     nextIndicator = indicator;
00399     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00400   }
00401 
<a name="l00409"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a7">00409</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a7">GetPartNumber</a>()<span class="keyword"> const </span>{
00410     <span class="keywordflow">return</span> part;
00411   }
00412 
<a name="l00421"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a8">00421</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a8">SetPartNumber</a>(<span class="keyword">const</span> ByteT&amp; number) {
00422     part = number;
00423     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00424   }
00425 
<a name="l00430"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a9">00430</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a9">GetIPMPControlInfos</a>()<span class="keyword"> const </span>{
00431     <span class="keywordflow">return</span> infos;
00432   }
00433 
<a name="l00443"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a10">00443</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a10">SetIPMPControlInfos</a>(<span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes) {
00444     infos = classes;
00445     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00446   }
00447 
<a name="l00452"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a11">00452</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> UInt32T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a11">GetCRC32Code</a>() {
00453     <span class="keywordflow">return</span> crcCode;
00454   }
00455 
<a name="l00464"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a12">00464</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a12">SetCRC32Code</a>(<span class="keyword">const</span> UInt32T&amp; crc) {
00465     crcCode = crc;
00466     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00467   }
00468 
<a name="l00473"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a13">00473</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a13">GetTableID</a>()<span class="keyword"> const </span>{
00474     <span class="keywordflow">return</span> table;
00475   }
00476 
<a name="l00486"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a14">00486</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a14">SetTableID</a>(<span class="keyword">const</span> ByteT&amp; tableID) {
00487     table = tableID;
00488     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00489   }
00490 
<a name="l00495"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a15">00495</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a15">GetSectionSyntaxIndicator</a>()<span class="keyword"> const </span>{
00496     <span class="keywordflow">return</span> syntaxIndicator;
00497   }
00498 
<a name="l00508"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a16">00508</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a16">SetSectionSyntaxIndicator</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator) {
00509     syntaxIndicator = indicator;
00510     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00511   }
00512 
<a name="l00520"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a17">00520</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> UInt16T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a17">GetTotalControlInfoClassesLen</a>()<span class="keyword"> const </span>{
00521     <span class="keywordflow">return</span> cLen;
00522   }
00523 
<a name="l00534"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a18">00534</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a18">SetTotalControlInfoClassesLen</a>(<span class="keyword">const</span> UInt16T&amp; length) {
00535     cLen = length;
00536     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00537   }
00538 
<a name="l00546"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a19">00546</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a19">GetLastPartNumber</a>()<span class="keyword"> const </span>{
00547     <span class="keywordflow">return</span> last;
00548   }
00549 
<a name="l00558"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a20">00558</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a20">SetLastPartNumber</a>(<span class="keyword">const</span> ByteT&amp; number) {
00559     last = number;
00560     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00561   }
00562 
<a name="l00569"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a21">00569</a>   <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_t_stream_i_p_m_p_control_info_part.html#a21">Encode</a>(<a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; encoded)<span class="keyword"> const </span>{
00570     <span class="keywordflow">if</span> (<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_inter_t_stream_i_p_m_p_control_info_part.html#a3">IInterTStreamIPMPControlInfoPart::MPEG2Encode</a>(encoded) == <span class="keyword">false</span>) {
00571       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00572     }
00573     <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html">CRC32Calculator</a> crc;
00574     UInt32T crc32 = crc.<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html#a2">GetCRC</a>(encoded.GetFirst(), encoded.GetLength());
00575     encoded += <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>(crc32);
00576     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00577   }
00578 
00579 <span class="keyword">private</span>:
00580   Bit5T cVersion;
00581   <span class="keywordtype">bool</span> nextIndicator;
00582   ByteT part;
00583   <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a> infos;
00584   UInt32T crcCode;
00585   ByteT table;
00586   <span class="keywordtype">bool</span> syntaxIndicator;
00587   UInt16T cLen;
00588   ByteT last;
00589 };
00590 
<a name="l00599"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html">00599</a> <span class="keyword">class </span><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html">LastPStreamIPMPControlInfoPart</a>: <span class="keyword">public</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_last_p_stream_i_p_m_p_control_info_part.html">ILastPStreamIPMPControlInfoPart</a> {
00600 <span class="keyword">public</span>:
<a name="l00603"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a0">00603</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a0">LastPStreamIPMPControlInfoPart</a>(): cVersion(), nextIndicator(false),
00604     part(0), infos(), crcCode(0), packet((UInt32T)0), stream(0),
00605     pesFlag(false), pesFlag2(false), streamIDExtFlag(false), streamIDExt(0),
00606     sigCert(0) {
00607   }
00608 
<a name="l00624"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a1">00624</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a0">LastPStreamIPMPControlInfoPart</a>(<span class="keyword">const</span> Bit5T&amp; version, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator,
00625     <span class="keyword">const</span> ByteT&amp; number, <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes, <span class="keyword">const</span> UInt32T&amp; crc,
00626     <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a>&amp; pack, <span class="keyword">const</span> ByteT streamID, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag,
00627     <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag2, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; extFlag, <span class="keyword">const</span> Bit7T&amp; ext,
00628     <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>* sig): cVersion(version), nextIndicator(indicator), part(number),
00629     infos(classes), crcCode(crc), packet(pack), stream(streamID), pesFlag(flag),
00630     pesFlag2(flag2), streamIDExtFlag(extFlag), streamIDExt(ext), sigCert(sig) {
00631   }
00632 
00633   <span class="keyword">virtual</span> ~<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html">LastPStreamIPMPControlInfoPart</a>() {
00634     <span class="keywordflow">if</span> (sigCert != 0) <span class="keyword">delete</span> sigCert; sigCert = 0;
00635   }
00636 
<a name="l00641"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a3">00641</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> Bit5T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a3">GetIPMPControlInfoVersion</a>()<span class="keyword"> const </span>{
00642     <span class="keywordflow">return</span> cVersion;
00643   }
00644 
<a name="l00654"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a4">00654</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a4">SetIPMPControlInfoVersion</a>(<span class="keyword">const</span> Bit5T&amp; version) {
00655     cVersion = version;
00656     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00657   }
00658 
<a name="l00667"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a5">00667</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a5">GetCurrentNextIndicator</a>()<span class="keyword"> const </span>{
00668     <span class="keywordflow">return</span> nextIndicator;
00669   }
00670 
<a name="l00680"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a6">00680</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a6">SetCurrentNextIndicator</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator) {
00681     nextIndicator = indicator;
00682     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00683   }
00684 
<a name="l00692"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a7">00692</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a7">GetPartNumber</a>()<span class="keyword"> const </span>{
00693     <span class="keywordflow">return</span> part;
00694   }
00695 
<a name="l00704"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a8">00704</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a8">SetPartNumber</a>(<span class="keyword">const</span> ByteT&amp; number) {
00705     part = number;
00706     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00707   }
00708 
<a name="l00713"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a9">00713</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a9">GetIPMPControlInfos</a>()<span class="keyword"> const </span>{
00714     <span class="keywordflow">return</span> infos;
00715   }
00716 
<a name="l00726"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a10">00726</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a10">SetIPMPControlInfos</a>(<span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes) {
00727     infos = classes;
00728     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00729   }
00730 
<a name="l00735"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a11">00735</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> UInt32T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a11">GetCRC32Code</a>() {
00736     <span class="keywordflow">return</span> crcCode;
00737   }
00738 
<a name="l00747"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a12">00747</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a12">SetCRC32Code</a>(<span class="keyword">const</span> UInt32T&amp; crc) {
00748     crcCode = crc;
00749     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00750   }
00751 
<a name="l00756"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a13">00756</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a13">GetPacketStartCodePrefix</a>()<span class="keyword"> const </span>{
00757     <span class="keywordflow">return</span> packet;
00758   }
00759 
<a name="l00769"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a14">00769</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a14">SetPacketStartCodePrefix</a>(<span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a>&amp; prefix) {
00770     packet = prefix;
00771     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00772   }
00773 
<a name="l00778"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a15">00778</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a15">GetStreamID</a>()<span class="keyword"> const </span>{
00779     <span class="keywordflow">return</span> stream;
00780   }
00781 
<a name="l00791"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a16">00791</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a16">SetStreamID</a>(<span class="keyword">const</span> ByteT&amp; streamID) {
00792     stream = streamID;
00793     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00794   }
00795 
<a name="l00800"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a17">00800</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a17">GetPESExtensionFlag</a>()<span class="keyword"> const </span>{
00801     <span class="keywordflow">return</span> pesFlag;
00802   }
00803 
<a name="l00813"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a18">00813</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a18">SetPESExtensionFlag</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag) {
00814     pesFlag = flag;
00815     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00816   }
00817 
<a name="l00822"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a19">00822</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a19">GetPESExtensionFlag2</a>()<span class="keyword"> const </span>{
00823     <span class="keywordflow">return</span> pesFlag2;
00824   }
00825 
<a name="l00835"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a20">00835</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a20">SetPESExtensionFlag2</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag) {
00836     pesFlag2 = flag;
00837     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00838   }
00839 
<a name="l00844"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a21">00844</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a21">GetStreamIDExtensionFlag</a>()<span class="keyword"> const </span>{
00845     <span class="keywordflow">return</span> streamIDExtFlag;
00846   }
00847 
<a name="l00857"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a22">00857</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a22">SetStreamIDExtensionFlag</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag) {
00858     streamIDExtFlag = flag;
00859     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00860   }
00861 
<a name="l00866"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a23">00866</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> Bit7T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a23">GetStreamIDExtension</a>()<span class="keyword"> const </span>{
00867     <span class="keywordflow">return</span> streamIDExt;
00868   }
00869 
<a name="l00879"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a24">00879</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a24">SetStreamIDExtension</a>(<span class="keyword">const</span> Bit7T&amp; streamIDExtension) {
00880     streamIDExt = streamIDExtension;
00881     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00882   }
00883 
<a name="l00894"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a25">00894</a>   <span class="keyword">virtual</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>* <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a25">GetSigCertContainer</a>()<span class="keyword"> const </span>{
00895     <span class="keywordflow">return</span> sigCert;
00896   }
00897 
<a name="l00909"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a26">00909</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a26">CreateSigCertContainer</a>(<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>** container) {
00910     <span class="keywordflow">if</span> (sigCert != 0) <span class="keyword">delete</span> sigCert;
00911     sigCert = <span class="keyword">new</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_sig_cert_container.html">SigCertContainer</a>();
00912     *container = sigCert;
00913     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00914   }
00915 
<a name="l00922"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a27">00922</a>   <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_last_p_stream_i_p_m_p_control_info_part.html#a27">Encode</a>(<a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; encoded)<span class="keyword"> const </span>{
00923     <span class="keywordflow">if</span> (<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_last_p_stream_i_p_m_p_control_info_part.html#a3">ILastPStreamIPMPControlInfoPart::MPEG2Encode</a>(encoded) == <span class="keyword">false</span>) {
00924       <span class="keywordflow">return</span> <span class="keyword">false</span>;
00925     }
00926     <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html">CRC32Calculator</a> crc;
00927     UInt32T crc32 = crc.<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html#a2">GetCRC</a>(encoded.GetFirst(), encoded.GetLength());
00928     encoded += <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>(crc32);
00929     <span class="keywordflow">return</span> <span class="keyword">true</span>;
00930   }
00931 
00932 <span class="keyword">private</span>:
00933   Bit5T cVersion;
00934   <span class="keywordtype">bool</span> nextIndicator;
00935   ByteT part;
00936   <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a> infos;
00937   UInt32T crcCode;
00938   <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a> packet;
00939   ByteT stream;
00940   <span class="keywordtype">bool</span> pesFlag;
00941   <span class="keywordtype">bool</span> pesFlag2;
00942   <span class="keywordtype">bool</span> streamIDExtFlag;
00943   Bit7T streamIDExt;
00944   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_sig_cert_container.html">ISigCertContainer</a>* sigCert;
00945 };
00946 
<a name="l00952"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html">00952</a> <span class="keyword">class </span><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html">InterPStreamIPMPControlInfoPart</a>: <span class="keyword">public</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_inter_p_stream_i_p_m_p_control_info_part.html">IInterPStreamIPMPControlInfoPart</a> {
00953 <span class="keyword">public</span>:
<a name="l00956"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a0">00956</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a0">InterPStreamIPMPControlInfoPart</a>(): cVersion(), nextIndicator(false),
00957     part(0), infos(), crcCode(0), packet((UInt32T)0), stream(0),
00958     pesFlag(false), pesFlag2(false), streamIDExtFlag(false), streamIDExt(0),
00959     last(0) {
00960   }
00961 
<a name="l00977"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a1">00977</a>   <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a0">InterPStreamIPMPControlInfoPart</a>(<span class="keyword">const</span> Bit5T&amp; version, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator,
00978     <span class="keyword">const</span> ByteT&amp; number, <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes, <span class="keyword">const</span> UInt32T&amp; crc,
00979     <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a>&amp; pack, <span class="keyword">const</span> ByteT streamID, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag,
00980     <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag2, <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; extFlag, <span class="keyword">const</span> Bit7T&amp; ext,
00981     <span class="keyword">const</span> ByteT&amp; lst): cVersion(version), nextIndicator(indicator), part(number),
00982     infos(classes), crcCode(crc), packet(pack), stream(streamID), pesFlag(flag),
00983     pesFlag2(flag2), streamIDExtFlag(extFlag), streamIDExt(ext), last(lst) {
00984   }
00985 
00986   <span class="keyword">virtual</span> ~<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html">InterPStreamIPMPControlInfoPart</a>() {
00987   }
00988 
<a name="l00993"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a3">00993</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> Bit5T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a3">GetIPMPControlInfoVersion</a>()<span class="keyword"> const </span>{
00994     <span class="keywordflow">return</span> cVersion;
00995   }
00996 
<a name="l01006"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a4">01006</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a4">SetIPMPControlInfoVersion</a>(<span class="keyword">const</span> Bit5T&amp; version) {
01007     cVersion = version;
01008     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01009   }
01010 
<a name="l01019"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a5">01019</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a5">GetCurrentNextIndicator</a>()<span class="keyword"> const </span>{
01020     <span class="keywordflow">return</span> nextIndicator;
01021   }
01022 
<a name="l01032"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a6">01032</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a6">SetCurrentNextIndicator</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; indicator) {
01033     nextIndicator = indicator;
01034     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01035   }
01036 
<a name="l01044"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a7">01044</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a7">GetPartNumber</a>()<span class="keyword"> const </span>{
01045     <span class="keywordflow">return</span> part;
01046   }
01047 
<a name="l01056"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a8">01056</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a8">SetPartNumber</a>(<span class="keyword">const</span> ByteT&amp; number) {
01057     part = number;
01058     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01059   }
01060 
<a name="l01065"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a9">01065</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a9">GetIPMPControlInfos</a>()<span class="keyword"> const </span>{
01066     <span class="keywordflow">return</span> infos;
01067   }
01068 
<a name="l01078"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a10">01078</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a10">SetIPMPControlInfos</a>(<span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; classes) {
01079     infos = classes;
01080     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01081   }
01082 
<a name="l01087"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a11">01087</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> UInt32T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a11">GetCRC32Code</a>() {
01088     <span class="keywordflow">return</span> crcCode;
01089   }
01090 
<a name="l01099"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a12">01099</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a12">SetCRC32Code</a>(<span class="keyword">const</span> UInt32T&amp; crc) {
01100     crcCode = crc;
01101     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01102   }
01103 
<a name="l01108"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a13">01108</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a13">GetPacketStartCodePrefix</a>()<span class="keyword"> const </span>{
01109     <span class="keywordflow">return</span> packet;
01110   }
01111 
<a name="l01121"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a14">01121</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a14">SetPacketStartCodePrefix</a>(<span class="keyword">const</span> <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a>&amp; prefix) {
01122     packet = prefix;
01123     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01124   }
01125 
<a name="l01130"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a15">01130</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a15">GetStreamID</a>()<span class="keyword"> const </span>{
01131     <span class="keywordflow">return</span> stream;
01132   }
01133 
<a name="l01143"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a16">01143</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a16">SetStreamID</a>(<span class="keyword">const</span> ByteT&amp; streamID) {
01144     stream = streamID;
01145     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01146   }
01147 
<a name="l01152"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a17">01152</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a17">GetPESExtensionFlag</a>()<span class="keyword"> const </span>{
01153     <span class="keywordflow">return</span> pesFlag;
01154   }
01155 
<a name="l01165"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a18">01165</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a18">SetPESExtensionFlag</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag) {
01166     pesFlag = flag;
01167     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01168   }
01169 
<a name="l01174"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a19">01174</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a19">GetPESExtensionFlag2</a>()<span class="keyword"> const </span>{
01175     <span class="keywordflow">return</span> pesFlag2;
01176   }
01177 
<a name="l01187"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a20">01187</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a20">SetPESExtensionFlag2</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag) {
01188     pesFlag2 = flag;
01189     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01190   }
01191 
<a name="l01196"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a21">01196</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a21">GetStreamIDExtensionFlag</a>()<span class="keyword"> const </span>{
01197     <span class="keywordflow">return</span> streamIDExtFlag;
01198   }
01199 
<a name="l01209"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a22">01209</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a22">SetStreamIDExtensionFlag</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; flag) {
01210     streamIDExtFlag = flag;
01211     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01212   }
01213 
<a name="l01218"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a23">01218</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> Bit7T&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a23">GetStreamIDExtension</a>()<span class="keyword"> const </span>{
01219     <span class="keywordflow">return</span> streamIDExt;
01220   }
01221 
<a name="l01231"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a24">01231</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a24">SetStreamIDExtension</a>(<span class="keyword">const</span> Bit7T&amp; streamIDExtension) {
01232     streamIDExt = streamIDExtension;
01233     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01234   }
01235 
<a name="l01243"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a25">01243</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> ByteT&amp; <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a25">GetLastPartNumber</a>()<span class="keyword"> const </span>{
01244     <span class="keywordflow">return</span> last;
01245   }
01246 
<a name="l01255"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a26">01255</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a26">SetLastPartNumber</a>(<span class="keyword">const</span> ByteT&amp; number) {
01256     last = number;
01257     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01258   }
01259 
<a name="l01266"></a><a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a27">01266</a>   <span class="keywordtype">bool</span> <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_inter_p_stream_i_p_m_p_control_info_part.html#a27">Encode</a>(<a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>&amp; encoded)<span class="keyword"> const </span>{
01267     <span class="keywordflow">if</span> (<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_i_inter_p_stream_i_p_m_p_control_info_part.html#a3">IInterPStreamIPMPControlInfoPart::MPEG2Encode</a>(encoded) == <span class="keyword">false</span>) {
01268       <span class="keywordflow">return</span> <span class="keyword">false</span>;
01269     }
01270     <a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html">CRC32Calculator</a> crc;
01271     UInt32T crc32 = crc.<a class="code" href="class_d_r_m_plugin_1_1_m_p_e_g2_i_p_m_p_x_d_r_m_plugin_1_1_c_r_c32_calculator.html#a2">GetCRC</a>(encoded.GetFirst(), encoded.GetLength());
01272     encoded += <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a>(crc32);
01273     <span class="keywordflow">return</span> <span class="keyword">true</span>;
01274   }
01275 
01276 <span class="keyword">private</span>:
01277   Bit5T cVersion;
01278   <span class="keywordtype">bool</span> nextIndicator;
01279   ByteT part;
01280   <a class="code" href="class_d_r_m_plugin_1_1_byte_seq.html">ByteSeq</a> infos;
01281   UInt32T crcCode;
01282   <a class="code" href="class_d_r_m_plugin_1_1_bit24_t.html">Bit24T</a> packet;
01283   ByteT stream;
01284   <span class="keywordtype">bool</span> pesFlag;
01285   <span class="keywordtype">bool</span> pesFlag2;
01286   <span class="keywordtype">bool</span> streamIDExtFlag;
01287   Bit7T streamIDExt;
01288   ByteT last;
01289 };
01290 
01291 } <span class="comment">// namespace MPEG2IPMPXDRMPlugin</span>
01292 
01293 } <span class="comment">// namespace DRMPlugin</span>
01294 
01295 <span class="preprocessor">#endif // !defined(IPMPCONTROLINFOPART_H)</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Jun 10 19:17:59 2006 for "DRM Plugin Architecture" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
